<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>倪振源 · 个人介绍</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <canvas id="map-bg" class="map-bg" aria-hidden="true"></canvas>
  

  <div class="note-modal" id="note-modal" aria-hidden="true">
    <div class="note-card">
      <header>
        <h4 id="note-title">C++ 随机笔记</h4>
        <button id="note-close" aria-label="关闭笔记">关闭</button>
      </header>
      <div id="note-desc"></div>
      <pre><code id="note-code"></code></pre>
    </div>
  </div>

  <header class="top-nav">
    <div class="nav-left">
      <button class="hamburger" id="drawer-toggle" aria-label="打开侧边栏"><span></span></button>
      <div class="logo">
        <span class="logo-dot"></span>
        <span>倪振源</span>
      </div>
    </div>
    <nav class="nav-links">
      <a href="index.html">主页</a>
      <a href="hobbies.html">学习方向</a>
      <a class="nav-noita" href="noita-records.html">Noita</a>
    </nav>
  </header>

  <main class="container">
    <section class="page-hero">
      <div class="eyebrow">Profile</div>
      <h1>你好，我是倪振源</h1>
      <p>华中科技大学 2025 级计算机系学生。</p>
    </section>

    <section class="section">
      <div class="glass-card">
        <h3>联系方式</h3>
        <ul class="list">
          <li>邮箱：1522762204@qq.com / nizhenyuan888@gmail.com</li>
          <li>电话：18396103301</li>
          <li>bilibili 账号：<a class="contact-link" href="https://space.bilibili.com/1092543037?spm_id_from=333.1007.0.0" target="_blank" rel="noreferrer noopener">Galandustry</a></li>
          <li>洛谷账号：<a class="contact-link" href="https://www.luogu.com.cn/user/1874887" target="_blank" rel="noreferrer noopener">Mindustry</a></li>
          <li>GitHub 账号：<a class="contact-link" href="https://github.com/Galandustry" target="_blank" rel="noreferrer noopener">Galandustry</a></li>
        </ul>
      </div>
    </section>

    <section class="section">
      <h2>目标：每天一道洛谷</h2>
      <div class="glass-card luogu-card">
        <p class="badge">Luogu</p>
        <div class="heatmap-legend">
          <span class="legend-title">难度</span>
          <span class="legend-swatch" style="background:#f75c84"></span><span class="legend-label">入门</span>
          <span class="legend-swatch" style="background:#f6c343"></span><span class="legend-label">普及-</span>
          <span class="legend-swatch" style="background:#f0b429"></span><span class="legend-label">普及/提高-</span>
          <span class="legend-swatch" style="background:#6ac46a"></span><span class="legend-label">普及+/提高</span>
          <span class="legend-swatch" style="background:#4da7d7"></span><span class="legend-label">提高+/省选-</span>
          <span class="legend-swatch" style="background:#b075ff"></span><span class="legend-label">省选/NOI-</span>
          <span class="legend-swatch" style="background:#000000"></span><span class="legend-label">NOI/CTSC</span>
        </div>
        <div class="opacity-legend">
          <span class="legend-title">数量</span>
          <div class="opacity-swatch" style="--swatch-bg:#f6c343; --swatch-alpha:0.18;"></div><span class="legend-label">1题</span>
          <div class="opacity-swatch" style="--swatch-bg:#f6c343; --swatch-alpha:0.32;"></div><span class="legend-label">3题</span>
          <div class="opacity-swatch" style="--swatch-bg:#f6c343; --swatch-alpha:0.5;"></div><span class="legend-label">5题</span>
          <div class="opacity-swatch" style="--swatch-bg:#f6c343; --swatch-alpha:0.7;"></div><span class="legend-label">8题</span>
        </div>
        <div class="heatmap-wrap">
          <div class="heatmap-days-col">
            <span>日</span><span>一</span><span>二</span><span>三</span><span>四</span><span>五</span><span>六</span>
          </div>
          <div class="heatmap-weeks" id="luogu-heatmap" aria-label="洛谷做题热度图"></div>
        </div>
        <div class="luogu-links">
          <a class="link-quiet" href="https://www.luogu.com.cn/user/1874887" target="_blank" rel="noreferrer noopener">查看洛谷主页</a>
        </div>
      </div>
    </section>
  </main>
  <script src="map-bg.js"></script>
  <script src="drawer.js"></script>
  <script src="common.js"></script>

  <script>
    const LUOGU_DAILY_COUNTS = {
      "2025-09-20":[3,1],"2025-09-23":[1,1],"2025-09-25":[1,1],"2025-09-26":[2,2],"2025-09-29":[1,2],"2025-10-02":[1,2],"2025-10-09":[2,3],"2025-10-10":[1,2],"2025-10-12":[1,2],"2025-10-14":[2,4],"2025-10-15":[2,2],"2025-10-16":[3,3],"2025-10-17":[3,3],"2025-10-18":[4,2],"2025-10-19":[2,3],"2025-10-20":[3,3],"2025-10-21":[5,4],"2025-10-22":[4,4],"2025-10-23":[1,2],"2025-10-24":[3,3],"2025-10-25":[1,2],"2025-10-26":[1,4],"2025-10-27":[3,2],"2025-10-28":[2,4],"2025-10-29":[2,4],"2025-10-30":[3,6],"2025-10-31":[1,2],"2025-11-01":[1,4],"2025-11-02":[2,4],"2025-11-03":[1,3],"2025-11-04":[2,3],"2025-11-05":[1,3],"2025-11-07":[2,3],"2025-11-08":[1,3],"2025-11-09":[1,4],"2025-11-10":[5,3],"2025-11-11":[2,3],"2025-11-12":[1,2],"2025-11-13":[1,3],"2025-11-15":[1,3],"2025-11-17":[3,4],"2025-11-19":[2,5],"2025-11-20":[1,3],"2025-11-21":[1,3]
    };
    function hexToRgb(hex) {
      const h = hex.replace('#', '');
      const bigint = parseInt(h, 16);
      return { r: (bigint >> 16) & 255, g: (bigint >> 8) & 255, b: bigint & 255 };
    }
    function buildWeeks(map) {
      const dates = Array.from(map.keys()).sort();
      if (!dates.length) return [];
      const first = new Date(dates[0]);
      const last = new Date(dates[dates.length - 1]);
      const start = new Date(first);
      start.setDate(start.getDate() - start.getDay());
      const end = new Date(last);
      end.setDate(end.getDate() + (6 - end.getDay()));
      const weeks = [];
      const cursor = new Date(start);
      while (cursor <= end) {
        const col = [];
        for (let i = 0; i < 7; i++) {
          const key = cursor.toISOString().slice(0, 10);
          col.push({ date: key, value: map.get(key) || 0 });
          cursor.setDate(cursor.getDate() + 1);
        }
        weeks.push(col);
      }
      return weeks;
    }
    function getColorByDifficulty(d) {
      switch (d) {
        case 1: return '#f75c84';
        case 2: return '#f6c343';
        case 3: return '#f0b429';
        case 4: return '#6ac46a';
        case 5: return '#4da7d7';
        case 6: return '#b075ff';
        case 7: return '#000000';
        default: return '#e0e0e0';
      }
    }
    function renderHeatmap() {
      const target = document.getElementById('luogu-heatmap');
      if (!target) return;
      const map = new Map();
      Object.entries(LUOGU_DAILY_COUNTS).forEach(([date, nums]) => {
        const count = Array.isArray(nums) ? Number(nums[0]) || 0 : Number(nums) || 0;
        const diff = Array.isArray(nums) ? Number(nums[1]) || 0 : 0;
        map.set(date, { count, diff });
      });
      const weeks = buildWeeks(map);
      const frag = document.createDocumentFragment();
      weeks.forEach((week) => {
        const colWrap = document.createElement('div');
        colWrap.className = 'heatmap-week-col';
        const col = document.createElement('div');
        col.className = 'heatmap-week';
        week.forEach((cell) => {
          const div = document.createElement('div');
          const data = cell.value || { count: 0, diff: 0 };
          const base = getColorByDifficulty(data.diff);
          const { r, g, b } = hexToRgb(base);
          const alpha = Math.min(0.15 + data.count * 0.12, 1);
          div.className = 'heat-cell';
          div.style.backgroundColor = `rgba(${r}, ${g}, ${b}, ${alpha})`;
          div.title = `${cell.date} · ${data.count} 题 · 难度 ${data.diff || '未定'}`;
          col.appendChild(div);
        });
        const monthLabel = document.createElement('span');
        const monthHit = week.find((cell) => cell.date.endsWith('-01'));
        if (monthHit) {
          const monthNum = Number(monthHit.date.slice(5, 7));
          monthLabel.textContent = `${monthNum}`;
          monthLabel.className = 'month-label';
        } else {
          monthLabel.className = 'month-label empty';
        }
        colWrap.appendChild(col);
        colWrap.appendChild(monthLabel);
        frag.appendChild(colWrap);
      });
      target.innerHTML = '';
      target.appendChild(frag);
    }
    document.addEventListener('DOMContentLoaded', renderHeatmap);
  </script>
</body>
</html>





